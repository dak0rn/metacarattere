<!DOCTYPE html>
<html lang="en">
    <head>
        <title>metacarattere</title>
        <meta charset="utf-8" />

        <link rel="stylesheet" href="pure.min.css" />
        <!-- Everything inline! -->
        <style>
            .pure-menu { margin-top: 1rem; }
            .container { max-width: 768px; margin: 2rem auto; }
            html, body { font-family: 'Helvetica Neue', 'Helvetica', 'Arial', sans-serif; }
            .title {
                text-shadow: 0px 1px 0px #999, 0px 2px 0px #888, 0px 3px 0px #777, 0px 4px 0px #666, 0px 5px 0px #555, 0px 6px 0px #444, 0px 7px 0px #333, 0px 8px 7px #001135;
	            color: #fff;
                text-align: center;
                font-size: 5rem;
            }

            header {
                background: #1f8dd6;
                padding: 1rem 0;
                margin: 1rem 0;
            }

            footer {
                background: #1f8dd6;
                padding: 0.5rem;
                color: #fff;
                font-size: 0.8rem;
                margin: 4rem 0 0 0;
            }

            main {
                color: #777;
                text-rendering: optimizeLegibility;
            }

            code, pre, .gray {
                background: #ccc;
            }

            code {
                padding: 2px 4px;
                border-radius: 4px;
                color: #444;
            }

            pre {
                padding: 1rem;
            }

            .gray pre {
                padding: 1rem 0;
            }

            p, pre > code {
                line-height: 2rem;
                padding: 0;
            }

            .button-cell .pure-button {
                width: 160px;
                padding: 0;
                line-height: 2.5rem;
                text-transform: uppercase;
                margin: 0 auto;
                display: block;
            }

            .hide {
                display: none;
            }

            p a:visited, p a:link {
                color: #1f8dd6;
                text-decoration: none;
            }

            .block-1 { display: block; float: none; clear: both; height: 1rem; }
            .block-2 { display: block; float: none; clear: both; height: 2rem; }
            .center { text-align: center; }

        </style>
        <script>
        window._init = function() {
            // List of groups
            var groups = {};

            // Utility functions
            var forEach = function(collection, fn) { return Array.prototype.forEach.call(collection, fn); };

            var hideElement = function(what) { what.classList.add('hide'); };
            var showElement = function(what) { what.classList.remove('hide'); };

            var displayArea = function() {
                var groupID = this.dataset.group;
                var targetList = document.getElementById(this.dataset.area).classList;

                if( targetList.contains('hide') ) {
                    forEach( groups[groupID], hideElement );
                }

                targetList.toggle('hide');
            };

            // Setup handlers
            forEach( document.getElementsByClassName('show-area'), function(element) {
                var groupID = element.dataset.group;

                if( 'undefined' === typeof groups[groupID] )
                    groups[groupID] = [];

                var group = groups[groupID];
                group.push( document.getElementById(element.dataset.area) );
                element.addEventListener('click', displayArea);
            });

        };
        </script>
    </head>
    <body>
        <div class="pure-menu pure-menu-horizontal">
            <span class="pure-menu-heading">metacarattere</span>

            <ul class="pure-menu-list">
                <li class="pure-menu-item try-it">
                    <a href="#try" class="pure-button pure-button-primary">Try it</a>
                </li>
                <li class="pure-menu-item"><a href="#introduction" class="pure-menu-link">Introduction</a></li>
                <li class="pure-menu-item"><a href="#constructor" class="pure-menu-link">Constructor</a></li>
                <li class="pure-menu-item"><a href="#match" class="pure-menu-link">.match()</a></li>
                <li class="pure-menu-item"><a href="#parse" class="pure-menu-link">.parse()</a></li>
                <li class="pure-menu-item"><a href="#getExpression" class="pure-menu-link">.getExpression()</a></li>
                <li class="pure-menu-item"><a href="#getPlaceholders" class="pure-menu-link">.getPlaceholders()</a></li>
                <li class="pure-menu-item"><a href="#getPattern" class="pure-menu-link">.getPattern()</a></li>
            </ul>
        </div>
        <header>
            <div class="container">
                <h1 class="title">metacarattere</h1>
            </div>
        </header>
        <main>
            <div class="container">
                <h1 id="introduction">Introduction</h1>
                <p>metacarattere is a small pattern matching library meant to be used with URLs.
                    It allows you to define patterns and match URLs against them or extract values
                    matching the pattern.</p>

                <h2>Installation</h2>
                <p>metacarattere can be installed with <strong>npm</strong> or <strong>bower</strong>. You can
                also download it from the GitHub repository or clone it using <strong>git</strong>.</p>

                <div class="pure-g">
                    <div class="pure-u-1-4 button-cell"><button class="pure-button pure-button-primary show-area" data-area="install-bower" data-group="install">bower</button></div>
                    <div class="pure-u-1-4 button-cell"><button class="pure-button pure-button-primary show-area" data-area="install-npm" data-group="install">npm</button></div>
                    <div class="pure-u-1-4 button-cell"><button class="pure-button pure-button-primary show-area" data-area="install-git" data-group="install">git</button></div>
                    <div class="pure-u-1-4 button-cell"><button class="pure-button pure-button-primary show-area" data-area="install-download" data-group="install">download</button></div>
                </div>
                <div class="block-2"></div>
            </div>

            <div id="install-bower" class="install-instruction hide">
                <div class="container">
                    <p>To install metacarattere with bower, issue the following command in your terminal</p>
                </div>
                <div class="gray">
                    <div class="container">
                        <pre><code>bower install metacarattere</code></pre>
                    </div>
                </div>
                <div class="container">
                    <p>Use the <code>-S</code> flag to write the dependency to your <code>bower.json</code> file.</p>
                </div>
            </div>

            <div id="install-npm" class="install-instruction hide">
                <div class="container">
                    <p>To install metacarattere with npm, issue the following command in your terminal</p>
                </div>
                <div class="gray">
                    <div class="container">
                        <pre><code>npm install metacarattere</code></pre>
                    </div>
                </div>
                <div class="container">
                    <p>Use the <code>--save-dev</code> or <code>--save</code> flags to write the dependency to your <code>package.json</code> file.</p>
                </div>
            </div>

            <div id="install-git" class="install-instruction hide">
                <div class="container">
                    <p>To install metacarattere with git, issue the following command in your terminal</p>
                </div>
                <div class="gray">
                    <div class="container">
                        <pre><code>git clone https://github.com/dak0rn/metacarattere.git</code></pre>
                    </div>
                </div>
                <div class="container">
                    Click the GitHub banner to get to the repository page
                </div>
            </div>

            <div id="install-download" class="install-instruction hide">
                <div class="container">
                    <p>To download metacarattere, click the download link below:</p>
                    <div class="center">
                        <a href="https://github.com/dak0rn/metacarattere/archive/master.zip" class="pure-button">Download</a>
                    </div>
                    <p>If you are not a fan of simple download buttons and want to use a command line tool to download metacarattere
                    issue the following command in your terminal:</p>
                </div>
                <div class="gray">
                    <div class="container">
                        <pre><code>curl -O https://github.com/dak0rn/metacarattere/archive/master.zip</code></pre>
                    </div>
                </div>
                <div class="container">
                    Click the GitHub banner to get to the repository page
                </div>
            </div>

            <div class="block-2"></div>

            <div class="container">
                <h1 id="constructor">Constructor</h1>
                <h2>Loading it</h2>
                <p>Dependending on the way you try to load metacarattere, it is disposed in different ways.</p>

                <div class="pure-g">
                    <div class="pure-u-1-3 button-cell"><button class="pure-button pure-button-primary show-area" data-area="expose-vanilla" data-group="expose">vanilla</button></div>
                    <div class="pure-u-1-3 button-cell"><button class="pure-button pure-button-primary show-area" data-area="expose-amd" data-group="expose">AMD</button></div>
                    <div class="pure-u-1-3 button-cell"><button class="pure-button pure-button-primary show-area" data-area="expose-commonjs" data-group="expose">CommonJS</button></div>
                </div>
            </div>

            <div id="expose-vanilla" class="expose-details hide">
                <div class="container">
                    <h3>Vanilla</h3>
                    <p>In a vanilla JavaScript environment no module loader is present. The expose algorithm detects it automatically and
                    adds the <code>metacarattere</code> function to the global scope (<code>window</code> object).</p>
                    <p>After adding the <code>&lt;script&gt;</code> tag to your <code>&lt;head&gt;</code> section that includes metacarattere</p>
                </div>
                <div class="gray">
                    <div class="container">
                        <pre><code>&lt;script src="metacarattere.min.js"&gt;&lt;script&gt;</code></pre>
                    </div>
                </div>
                <div class="container">
                    <p>the constructor function is globally available and can be used in your scripts.</p>
                </div>
                <div class="gray">
                    <div class="container">
                        <pre><code>new metacarattere('/my/fancy/:url');    // = window.metacarattere</code></pre>
                    </div>
                </div>
            </div>

            <div id="expose-amd" class="expose-details hide">
                <div class="container">
                    <h3>AMD</h3>
                    <p>The <strong>Asynchronous Module Definition</strong> (AMD) is a way to define JavaScript modules in an asynchronous loading environment.
                    The well-known <a href="http://requirejs.org/">require.js</a> uses this format to load JavaScript modules.</p>
                    <p>metacarattere also supports this format and can be used like very other module:</p>
                </div>
                <div class="gray">
                    <div class="container">
                        <pre><code>define(['metacarattere.min'], function(metacarattere){
    // Use it
})</code></pre>
                    </div>
                </div>
                <div class="container">
                    <p>If you load metacarattere with an AMD loader no global variable is exposed.</p>
                </div>
            </div>

            <div id="expose-commonjs" class="expose-details hide">
                <div class="container">
                    <h3>CommonJS</h3>
                    <p>CommonJS is a way to define JavaScript modules without wrapping the code in a function as the AMD requires it.</p>
                    <p>This format is used in a node.js / io.js environment but can also be used in the browser using tools likes browserify or webpack.</p>
                </div>
                <div class="gray">
                    <div class="container">
                        <pre><code>var metacarattere = require('metacarattere');

// Use it</code></pre>
                    </div>
                </div>
            </div>

            <div class="container">
                <h2>The constructor function</h2>
                <p>The exposed function expects a (URL) pattern with placeholders starting with colons.</p>
            </div>

            <div class="gray">
                <div class="container">
                    <pre><code>var users = new metacarattere('/api/:version/users/:userid');</code></pre>
                </div>
            </div>

            <div class="container">
                <p>If no valid string is given, a never matching pattern will be constructed. Thus, <a href="#parse"><code>parse()</code> #</a> function
                will always return <code>null</code> and <a href="#match"><code>match()</code> #</a> will always return <code>false</code>.</p>
                <p>However, an invalid pattern will not cause metacarattere to throw an exception at any point.</p>
            </div>

            <div class="block-2"></div>
            <div class="container">
                <h1 id="match">.match()</h1>
                <h2>Match an URL against the pattern</h2>
                <p>The <code>.match()</code> function expects an URL (as a string) and returns <code>true</code> if it matches the pattern of the object.</p>
            </div>

            <div class="gray">
                <div class="container">
                    <pre><code>var users = new metacarattere('/api/:version/users/:userid');
users.match('/api/v1/users/mark');    // true
users.match('/api/users/mark/1');     // false</code></pre>
                </div>
            </div>

            <div class="container">
                <p>If the object has been constructed with an invalid (e.g. empty) pattern, <code>.match()</code> will always return <code>false</code>.</p>
            </div>


            <div class="block-2"></div>

            <div class="container">
                <h1 id="parse">.parse()</h1>
                <h2>Parse an URL with the pattern</h2>

                <p>While <a href="#match"><code>match()</code> #</a> determines whether the given URL matches the pattern, <code>parse()</code> returns an object with
                key-value-pairs matching pattern placeholders with URL parts.</p>
            </div>

            <div class="gray">
                <div class="container">
                    <pre><code>var users = new metacarattere('/api/:version/users/:userid');
users.parse('/api/v1/users/903');
/* {
 *     'version': 'v1',
 *     'userid':  '903'
 * }
 */</code></pre>
                </div>
            </div>

            <div class="container">
                <p>If the given URL does not match the pattern <code>null</code> is returned.</p>
            </div>

            <div class="gray">
                <div class="container">
                    <pre><code>var users = new metacarattere('/api/:version/users/:userid');
users.parse('/api/v1/users/userid/903'); // null </code></pre>
                </div>
            </div>

            <div class="block-2"></div>
            <div class="container">
                <h1 id="getExpression">.getExpression()</h1>
                <h2>Get the compiled expression</h2>
                <p>If it is required to get the compiled regular expression for the pattern <code>getExpression()</code> can be used to get it.</p>
            </div>

            <div class="gray">
                <div class="container">
                    <pre><code>new metacarattere('/:version/:key/:abc').getExpression();       // ^/([^\/]+)/([^\/]+)/([^\/]+)$
new metacarattere('').getExpression();  // ^$
new metacarattere().getExpression();    // ^(?!)$</code></pre>
                </div>
            </div>

            <div class="container">
                <p>As shown above, if an invalid pattern (means: not a string) is given to the constructor, a never matching pattern is constructed. </p>
            </div>

            <div class="block-2"></div>
            <div class="container">
                <h1 id="getPlaceholders">.getPlaceholders()</h1>
                <h2>Retrieve a list of placeholders</h2>

                <p>Using the <code>.getPlaceholders()</code> function one can obtain a list of placeholders recognized in the pattern.</p>
            </div>

            <div class="gray">
                <div class="container">
                    <pre><code>new metacarattere('/api/:version/:document').getPlaceholders();
    // ['version','document']
new metacarattere().getPlaceholders();  // [ ]
new metacarattere(null).getPlaceholders();   // [ ]</code></pre>
                </div>
            </div>

            <div class="container">
                <p>If the constructor function was given an invalid pattern, an empty array is returned.</p>
            </div>

            <div class="block-2"></div>
            <div class="container">
                <h1 id="getPattern">.getPattern()</h1>
                <h2>Obtain the original pattern</h2>

                <p>If you want to get the pattern the object has been constructed with use the <code>.getPattern()</code> function.</p>
            </div>

            <div class="gray">
                <div class="container">
                    <pre><code>new metacarattere('/api/:version/:document').getPattern();
    // '/api/:version/:document'
new metacarattere().getPattern();   // undefined
new metacarattere(null).getPattern();   // null</code></pre>
                </div>
            </div>

            <div class="block-2"></div>
            <div class="block-2"></div>
            <div class="container">
                <h1 id="try">Try it</h1>
                <p>There is a JSBin using the latest metacarattere version where you can play around with the project.</p>
                <div class="center"><a href="http://jsbin.com/setuzu/embed?js,console" class="pure-button pure-button-primary">To the metacarattere JSBin</a></div>
            </div>
        </main>


        <footer>
            Copyright &copy; 2015 Daniel Koch | written with Atom | proudly made with vanilla JavaScript and Pure CSS
        </footer>

        <!-- FORK ME ON GITHUB
             Or contribute at least, dude.
         -->
         <a href="https://github.com/dak0rn/metacarattere"><img style="position: fixed; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/a6677b08c955af8400f44c6298f40e7d19cc5b2d/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f677261795f3664366436642e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png"></a>
         <script>'function' === typeof window._init && window._init();</script>
    </body>
</html>
