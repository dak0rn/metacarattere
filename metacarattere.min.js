/**
 * metacarattere
 * Copyright (c) 2015 Daniel Koch
 *
 * https://github.com/dak0rn/metacarattere
 *
 * Licensed under The MIT License (MIT).
 */
!function(a,b){"function"==typeof define&&define.amd?define([],b):"object"==typeof exports?module.exports=b():a.metacarattere=b()}(this,function(){var a=String.prototype.substr,b=String.prototype.replace,c=Array.prototype.shift,d=Array.prototype.map,e=String.prototype.match,f=function(b,c,d){return a.call(b,c,d)},g=function(a,c,d){return b.call(a,c,d)},h=function(a){return c.call(a)},i=function(a,b){return d.call(a,b)},j=function(a,b){return e.call(a,b)},k=function(a){return"[object Object]"==""+a},l={placeholder:/\/:\w+/g,regexPlaceholder:"/([^/]+)"},m=function(a){return f(a,2)},n={parse:function(a){if("string"!=typeof a)return null;var b,c=j(a,this._compiledExpression),d={},e=this._placeholders.length;if(null===c)return null;if(h(c),c.length!==e)return null;for(b=0;e>b;b++)d[this._placeholders[b]]=c[b];return d},matches:function(a){return"string"==typeof a&&null!==j(a,this._compiledExpression)},build:function(a){if("undefined"==typeof a||null===a||!k(a))return null;if("string"!=typeof this._pattern)return null;var b,c,d=this._pattern;for(b in a)c=a[b],d=d.replace(":"+b,c);return d}},o=function(a){this._compiledExpression="(?!)",this._placeholders=[],this._pattern=a;var b;"string"==typeof a&&(b=j(a,l.placeholder),null!==b&&(this._placeholders=i(b,m)),this._compiledExpression=g(a,l.placeholder,l.regexPlaceholder)),this._compiledExpression=new RegExp("^"+this._compiledExpression+"$")};return o.prototype={matches:function(){return n.matches.apply(this,arguments)},parse:function(){return n.parse.apply(this,arguments)},getPattern:function(){return this._pattern},getPlaceholders:function(){return this._placeholders},getExpression:function(){return this._compiledExpression},build:function(){return n.build.apply(this,arguments)}},o});